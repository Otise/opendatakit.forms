<?xml version="1.0"?>
<h:html xmlns="http://www.w3.org/2002/xforms" xmlns:h="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa">
	<h:head>
		<h:title>Widgets Form</h:title>
		<model>
<!-- instance gets filled out and submitted when you complete the form -->
			<instance>
				<widgets>
					<prefs/>
					<start/>
					<end/>
					<now/>
					<today/>
					<deviceid/>
					<subscriberid/>
					<simid/>
					<phonenumber/>
					<rw_string/>
					<rw_int>15</rw_int>
					<rw_decimal>18.31</rw_decimal>
					<rw_date/>
					<rw_select/>
					<rw_select1/>
					<rw_language/>
					<rw_custom>test@test.com</rw_custom>
					<rw_group/>
					<rw_repeat_a jr:template="">
						<rw_item_a />
					<!--	<rw_repeat_b jr:template="">
							<rw_item_b/>
						</rw_repeat_b> -->
					</rw_repeat_a>
					<rw_geopoint/>
					<rw_barcode/>
					<rw_image/>
					<rw_audio/>
					<rw_video/>
					<ro_string>lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</ro_string>
					<ro_int>123456789</ro_int>
					<ro_decimal>1234567890.1234567890</ro_decimal>
					<ro_date>1970-06-15</ro_date>
					<ro_select>a c</ro_select>
					<ro_select1>5</ro_select1>
					<ro_group/>
					<ro_geopoint>12.123091409,-12.0192350019</ro_geopoint>
					<ro_barcode/>
					<ro_image/>
					<ro_audio/>
					<ro_video/>
				</widgets>
			</instance>
<!-- binds allow us to add properties to the questions, like data types, skip logic, etc.-->
			<bind nodeset="prefs" required="true()"/>
<!-- hidden fields -->
			<bind nodeset="start" type="time" jr:preload="timestamp" jr:preloadParams="start"/>
			<bind nodeset="end" type="time" jr:preload="timestamp" jr:preloadParams="end"/>
			<bind nodeset="now" type="time" jr:preload="timestamp" jr:preloadParams="now"/>
			<bind nodeset="today" type="date" jr:preload="date" jr:preloadParams="today"/>
			<bind nodeset="deviceid" type="string" jr:preload="property" jr:preloadParams="deviceid"/>
			<bind nodeset="subscriberid" type="string" jr:preload="property" jr:preloadParams="subscriberid"/>
			<bind nodeset="simid" type="string" jr:preload="property" jr:preloadParams="simserial"/>
			<bind nodeset="phonenumber" type="string" jr:preload="property" jr:preloadParams="phonenumber"/>
<!-- read write -->
			<bind nodeset="rw_string" type="string" relevant="../prefs='rw'"/>
			<bind nodeset="rw_int" type="int" relevant="../prefs='rw'" constraint=". &lt; 1000" jr:constraintMsg="number cannot be above 1000"/>
			<bind nodeset="rw_decimal" type="decimal" relevant="../prefs='rw'" constraint=". &gt; 10.51 and . &lt; 18.39" jr:constraintMsg="number must be between 10.51 and 18.39"/>
			<bind nodeset="rw_date" type="date" relevant="../prefs='rw'" constraint=". &gt;= today()" jr:constraintMsg="only future dates allowed"/>
			<bind nodeset="rw_select" type="select" relevant="../prefs='rw'" constraint="not(selected(., 'd') and count-selected(.) &gt; 1)" jr:constraintMsg="option d cannot be selected with the others"/>
			<bind nodeset="rw_select1" type="select1" relevant="../prefs='rw'"/>
			
			<bind nodeset="rw_repeat_a" relevant="../prefs='rw'"/>
			<bind nodeset="rw_repeat_a/rw_item_a" type="string" relevant="../../prefs='rw'"/>
			
			<!--<bind nodeset="rw_repeat_a/rw_repeat_b" relevant="../prefs='rw'"/>
			<bind nodeset="rw_repeat_a/rw_repeat_b/rw_item_b" type="string" relevant="../prefs='rw'"/>
		-->
			<bind nodeset="rw_custom" type="string" relevant="../prefs='rw'" required="true()" constraint="regex(., '[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,4}')" jr:constraintMsg="this isn't a valid email address"/>
			<bind nodeset="rw_language" type="string" relevant="../prefs='rw'"/>
			<bind nodeset="rw_group" type="string" relevant="../prefs='rw'"/>
			<bind nodeset="rw_geopoint" type="geopoint" relevant="../prefs='rw'"/>
			<bind nodeset="rw_barcode" type="barcode" relevant="../prefs='rw'"/>
			<bind nodeset="rw_image" type="anyURI" relevant="../prefs='rw'"/>
			<bind nodeset="rw_audio" type="anyURI" relevant="../prefs='rw'"/>
			<bind nodeset="rw_video" type="anyURI" relevant="../prefs='rw'"/>
<!-- read only -->
			<bind nodeset="ro_string" type="string" readonly="true()" relevant="../prefs='ro'"/>
			<bind nodeset="ro_int" type="int" readonly="true()" relevant="../prefs='ro'"/>
			<bind nodeset="ro_decimal" type="decimal" readonly="true()" relevant="../prefs='ro'"/>
			<bind nodeset="ro_date" type="date" readonly="true()" relevant="../prefs='ro'"/>
			<bind nodeset="ro_select" type="select" readonly="true()" relevant="../prefs='ro'"/>
			<bind nodeset="ro_select1" type="select1" readonly="true()" relevant="../prefs='ro'"/>
			<bind nodeset="ro_group" type="string" relevant="../prefs='ro'"/>
			<bind nodeset="ro_geopoint" type="geopoint" readonly="true()" relevant="../prefs='ro'"/>
			<bind nodeset="ro_barcode" type="barcode" readonly="true()" relevant="../prefs='ro'"/>
			<bind nodeset="ro_image" type="anyURI" readonly="true()" relevant="../prefs='ro'"/>
			<bind nodeset="ro_audio" type="anyURI" readonly="true()" relevant="../prefs='ro'"/>
			<bind nodeset="ro_video" type="anyURI" readonly="true()" relevant="../prefs='ro'"/>
		</model>
	</h:head>
	<h:body>
		<select1 ref="prefs">
			<label>widget type</label>
			<hint>your choice determines your path</hint>
			<item>
				<label>read write</label>
				<value>rw</value>
			</item>
			<item>
				<label>read only</label>
				<value>ro</value>
			</item>
		</select1>
<!-- text of the question definitions -->
		<input ref="rw_string">
			<label>string question</label>
			<hint>strings can be as long as you want</hint>
		</input>
		<input ref="rw_int">
			<label>integer question</label>
			<hint>try entering a number &gt; 1000</hint>
		</input>
		<input ref="rw_decimal">
			<label>decimal question</label>
			<hint>only between 10.51 and 18.39</hint>
		</input>
		<input ref="rw_date">
			<label>date question</label>
			<hint>only future dates allowed here</hint>
		</input>
		<select ref="rw_select">
			<label>select multiple question</label>
			<hint>d can only be selected by itself</hint>
			<item>
				<label>option a</label>
				<value>a</value>
			</item>
			<item>
				<label>option b</label>
				<value>b</value>
			</item>
			<item>
				<label>option c</label>
				<value>c</value>
			</item>
			<item>
				<label>option d</label>
				<value>d</value>
			</item>
		</select>
		<select1 ref="rw_select1">
			<label>select one question</label>
			<hint>scroll down to see more options</hint>
			<item>
				<label>option 1</label>
				<value>1</value>
			</item>
			<item>
				<label>option 2</label>
				<value>2</value>
			</item>
			<item>
				<label>option 3</label>
				<value>3</value>
			</item>
			<item>
				<label>option 4</label>
				<value>4</value>
			</item>
			<item>
				<label>option 5</label>
				<value>5</value>
			</item>
			<item>
				<label>option 6</label>
				<value>6</value>
			</item>
			<item>
				<label>option 7</label>
				<value>7</value>
			</item>
			<item>
				<label>option 8</label>
				<value>8</value>
			</item>
			<item>
				<label>option 9</label>
				<value>9</value>
			</item>
			<item>
				<label>option 10</label>
				<value>10</value>
			</item>
			<item>
				<label>option 11</label>
				<value>11</value>
			</item>
			<item>
				<label>option 12</label>
				<value>12</value>
			</item>
			<item>
				<label>option 13</label>
				<value>13</value>
			</item>
			<item>
				<label>option 14</label>
				<value>14</value>
			</item>
			<item>
				<label>option 15</label>
				<value>15</value>
			</item>
		</select1>
		<input ref="rw_custom">
			<label>custom question</label>
			<hint>complex email validator</hint>
		</input>
		<group>
			<label>group a</label>
			<group>
				<label>group b</label>
				<group>
					<label>group c</label>
					<input ref="rw_group">
						<label>group question</label>
						<hint>question is inside three groups</hint>
					</input>
				</group>
			</group>
		</group>
		<group>
			<label>repeat group a</label>
			<repeat nodeset="rw_repeat_a">
				<input ref="rw_item_a">
					<label>repeat question a</label>
				</input>
				<!--
				<group>
					<label>repeat group b</label>
					<repeat nodeset="rw_repeat_b">
						<input ref="rw_item_b">
							<label>repeat question b</label>
						</input>
					</repeat>
				</group> -->
			</repeat>
		</group>
		<input ref="rw_geopoint">
			<label>geopoint question</label>
			<hint>this will get gps location</hint>
		</input>
		<input ref="rw_barcode">
			<label>barcode question</label>
		</input>
		<upload ref="rw_image" mediatype="image/*">
			<hint>this will launch the camera</hint>
			<label>image question</label>
		</upload>
		<upload ref="rw_audio" mediatype="audio/*">
			<hint>this will launch the audio recorder</hint>
			<label>audio question</label>
		</upload>
		<upload ref="rw_video" mediatype="video/*">
			<label>video question</label>
		</upload>
		<input ref="ro_string">
			<label>string question</label>
			<hint>string is pulled from the form.</hint>
		</input>
		<input ref="ro_int">
			<label>integer question</label>
			<hint>widget only allows numbers less than 9 places</hint>
		</input>
		<input ref="ro_decimal">
			<label>decimal question</label>
			<hint>widget only allows decimals less than 16 places</hint>
		</input>
		<input ref="ro_date">
			<label>date question</label>
			<hint>date should be june 15, 1970</hint>
		</input>
		<select ref="ro_select">
			<label>select multiple question</label>
			<hint>a and c should be selected</hint>
			<item>
				<label>option a</label>
				<value>a</value>
			</item>
			<item>
				<label>option b</label>
				<value>b</value>
			</item>
			<item>
				<label>option c</label>
				<value>c</value>
			</item>
			<item>
				<label>option d</label>
				<value>d</value>
			</item>
		</select>
		<select1 ref="ro_select1">
			<label>select one question</label>
			<hint>5 should be selected</hint>
			<item>
				<label>option 1</label>
				<value>1</value>
			</item>
			<item>
				<label>option 2</label>
				<value>2</value>
			</item>
			<item>
				<label>option 3</label>
				<value>3</value>
			</item>
			<item>
				<label>option 4</label>
				<value>4</value>
			</item>
			<item>
				<label>option 5</label>
				<value>5</value>
			</item>
			<item>
				<label>option 6</label>
				<value>6</value>
			</item>
			<item>
				<label>option 7</label>
				<value>7</value>
			</item>
			<item>
				<label>option 8</label>
				<value>8</value>
			</item>
			<item>
				<label>option 9</label>
				<value>9</value>
			</item>
			<item>
				<label>option 10</label>
				<value>10</value>
			</item>
			<item>
				<label>option 11</label>
				<value>11</value>
			</item>
			<item>
				<label>option 12</label>
				<value>12</value>
			</item>
			<item>
				<label>option 13</label>
				<value>13</value>
			</item>
			<item>
				<label>option 14</label>
				<value>14</value>
			</item>
			<item>
				<label>option 15</label>
				<value>15</value>
			</item>
		</select1>
		<group>
			<label>group really long name a</label>
			<group>
				<label>group really long name b</label>
				<group>
					<label>group really long name c</label>
					<input ref="ro_group">
						<label>group question</label>
						<hint>question is inside three groups</hint>
					</input>
				</group>
			</group>
		</group>
		<input ref="ro_geopoint">
			<label>geopoint question</label>
		</input>
		<input ref="ro_barcode">
			<label>barcode question</label>
		</input>
		<upload ref="ro_image" mediatype="image/*">
			<label>image question</label>
		</upload>
		<upload ref="ro_audio" mediatype="audio/*">
			<label>audio question</label>
		</upload>
		<upload ref="ro_video" mediatype="video/*">
			<label>video question</label>
		</upload>
	</h:body>
</h:html>
